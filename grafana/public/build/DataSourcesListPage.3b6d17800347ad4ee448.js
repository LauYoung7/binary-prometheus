"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[4620],{78014:(p,d,t)=>{t.d(d,{Z:()=>o});var n=t(68404),e=t(14747),c=t(31403),E=t(79979);class o extends n.PureComponent{render(){const{searchQuery:l,linkButton:r,setSearchQuery:v,target:h,placeholder:a="Search by name or type",sortPicker:s}=this.props,A={href:r?.href,disabled:r?.disabled};return h&&(A.target=h),n.createElement("div",{className:"page-action-bar"},n.createElement("div",{className:"gf-form gf-form--grow"},n.createElement(e.H,{value:l,onChange:v,placeholder:a})),s&&n.createElement(E.P,{onChange:s.onChange,value:s.value,getSortOptions:s.getSortOptions}),r&&n.createElement(c.Qj,{...A},r.title))}}},43137:(p,d,t)=>{t.d(d,{l:()=>h,S:()=>r});var n=t(52423),e=t(68404),c=t(72648),E=t(45253),o=t(31403),g=t(86475);const l=a=>({alertContent:n.css`
    display: flex;
    flex-direction: row;
    padding: 0;
    justify-content: space-between;
    align-items: center;
  `,alertParagraph:n.css`
    margin: 0 ${a.spacing(1)} 0 0;
    line-height: ${a.spacing(a.components.height.sm)};
    color: ${a.colors.text.primary};
  `});var r=(a=>(a.dataSources="dataSources",a.connectData="connectData",a))(r||{});const v={dataSources:g.Z.DataSources,connectData:g.Z.ConnectData};function h({destinationPage:a}){const s=(0,c.wW)(l);return e.createElement(E.b,{severity:"warning",title:""},e.createElement("div",{className:s.alertContent},e.createElement("p",{className:s.alertParagraph},"Data sources have a new home! You can discover new data sources or manage existing ones in the new Connections page, accessible from the lefthand nav."),e.createElement(o.Qj,{"aria-label":"Link to Connections",icon:"adjust-circle",href:v[a]},"See data sources in Connections")))}},19703:(p,d,t)=>{t.d(d,{G:()=>l});var n=t(68404),e=t(35645),c=t(31403),E=t(77582),o=t(81168),g=t(25e3);function l(){const r=E.Vt.hasPermission(o.AccessControlAction.DataSourcesCreate),v=(0,g.d7)();return r?n.createElement(c.Qj,{icon:"plus",href:e.v.appSubUrl+v.New},"Add new data source"):null}},81955:(p,d,t)=>{t.d(d,{c:()=>U});var n=t(52423),e=t(68404),c=t(35645),E=t(72648),o=t(72948),g=t(34719),l=t(31403),r=t(69142),v=t(2555),h=t(77582),a=t(81168),s=t(25e3),A=t(85597),B=t(78014);const L="alpha-asc",y="alpha-desc",R=[{label:"Sort by A\u2013Z",value:L},{label:"Sort by Z\u2013A",value:y}];function I(){const m=(0,a.useDispatch)(),P=(0,e.useCallback)(D=>m((0,s.zT)(D)),[m]),f=(0,a.useSelector)(({dataSources:D})=>(0,s.IO)(D)),C=h.Vt.hasPermission(a.AccessControlAction.DataSourcesCreate),S=(0,s.d7)(),i=!c.v.featureToggles.topnav&&C?{href:S.New,title:"Add new data source"}:void 0,T=(0,e.useCallback)(D=>m((0,s.Nu)(D.value===L)),[m]),u=(0,a.useSelector)(({dataSources:D})=>(0,s.IA)(D)),M={onChange:T,value:u?L:y,getSortOptions:()=>Promise.resolve(R)};return e.createElement(B.Z,{searchQuery:f,setSearchQuery:P,key:"action-bar",sortPicker:M,linkButton:i})}function U(){(0,s.zJ)();const m=(0,a.useSelector)(i=>(0,s.mt)(i.dataSources)),P=(0,a.useSelector)(({dataSources:i})=>(0,s.r7)(i)),f=(0,a.useSelector)(({dataSources:i})=>i.hasFetched),C=h.Vt.hasPermission(a.AccessControlAction.DataSourcesCreate),S=h.Vt.hasPermission(a.AccessControlAction.DataSourcesWrite),O=h.Vt.hasPermission(a.AccessControlAction.DataSourcesExplore);return e.createElement(W,{dataSources:m,dataSourcesCount:P,isLoading:!f,hasCreateRights:C,hasWriteRights:S,hasExploreRights:O})}function W({dataSources:m,dataSourcesCount:P,isLoading:f,hasCreateRights:C,hasWriteRights:S,hasExploreRights:O}){const i=(0,E.wW)(K),T=(0,s.d7)();return f?e.createElement(v.Z,null):P===0?e.createElement(r.Z,{buttonDisabled:!C,title:"No data sources defined",buttonIcon:"database",buttonLink:T.New,buttonTitle:"Add data source",proTip:"You can also define data sources through configuration files.",proTipLink:"http://docs.grafana.org/administration/provisioning/#datasources?utm_source=grafana_ds_list",proTipLinkTitle:"Learn more",proTipTarget:"_blank"}):e.createElement(e.Fragment,null,e.createElement(I,null),e.createElement("ul",{className:i.list},m.map(u=>{const M=c.v.appSubUrl+T.Edit.replace(/:uid/gi,u.uid);return e.createElement("li",{key:u.uid},e.createElement(o.Z,{href:S?M:void 0},e.createElement(o.Z.Heading,null,u.name),e.createElement(o.Z.Figure,null,e.createElement("img",{src:u.typeLogoUrl,alt:"",height:"40px",width:"40px",className:i.logo})),e.createElement(o.Z.Meta,null,[u.typeName,u.url,u.isDefault&&e.createElement(g.V,{key:"default-tag",name:"default",colorIndex:1})]),e.createElement(o.Z.Tags,null,e.createElement(l.Qj,{icon:"apps",fill:"outline",variant:"secondary",href:`dashboard/new-with-ds/${u.uid}`},"Build a dashboard"),O&&e.createElement(l.Qj,{icon:"compass",fill:"outline",variant:"secondary",className:i.button,href:(0,A.iU)(u)},"Explore"))))})))}const K=m=>({list:(0,n.css)({listStyle:"none",display:"grid"}),logo:(0,n.css)({objectFit:"contain"}),button:(0,n.css)({marginLeft:m.spacing(2)})})},85292:(p,d,t)=>{t.r(d),t.d(d,{DataSourcesListPage:()=>l,default:()=>r});var n=t(68404),e=t(35645),c=t(79396),E=t(43137),o=t(19703),g=t(81955);function l(){const v=e.v.featureToggles.topnav?n.createElement(o.G,null):void 0;return n.createElement(c.T,{navId:"datasources",actions:v},n.createElement(c.T.Contents,null,e.v.featureToggles.dataConnectionsConsole&&n.createElement(E.l,{destinationPage:E.S.dataSources}),n.createElement(g.c,null)))}const r=l}}]);

//# sourceMappingURL=DataSourcesListPage.3b6d17800347ad4ee448.js.map